# PRP-003: ã‚·ã‚¹ãƒ†ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®Ÿè£…è¨ˆç”»æ›¸

## 1. Goalï¼ˆç›®æ¨™ï¼‰

ã‚·ã‚¹ãƒ†ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆP-004ï¼‰ã®å®Œå…¨å®Ÿè£…ã«ã‚ˆã‚Šã€ç®¡ç†è€…ãŒä»¥ä¸‹ã‚’é”æˆã§ãã‚‹çŠ¶æ…‹ã‚’å®Ÿç¾ã™ã‚‹ï¼š

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–**: ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒçŠ¶æ³ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡ã®å¯è¦–åŒ–
- **çµ±åˆç®¡ç†ã‚³ãƒƒã‚¯ãƒ”ãƒƒãƒˆ**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€Gmailé€£æºã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä¸€å…ƒåˆ¶å¾¡
- **ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»ç›£è¦–æ©Ÿèƒ½**: ã‚·ã‚¹ãƒ†ãƒ ç•°å¸¸ã®æ—©æœŸæ¤œçŸ¥ã¨é€šçŸ¥æ©Ÿèƒ½
- **é‹ç”¨åŠ¹ç‡åŒ–**: æ—¥å¸¸çš„ãªç®¡ç†æ¥­å‹™ã®åŠ¹ç‡åŒ–ã¨è‡ªå‹•åŒ–
- **æ„æ€æ±ºå®šæ”¯æ´**: ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸé‹ç”¨åˆ¤æ–­ã®ãŸã‚ã®åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½

## 2. Whyï¼ˆç†ç”±ï¼‰

### ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤
- **é‹ç”¨åŠ¹ç‡åŒ–**: ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†æ¥­å‹™ã®ä¸€å…ƒåŒ–ã«ã‚ˆã‚‹ä½œæ¥­åŠ¹ç‡å‘ä¸Š
- **éšœå®³äºˆé˜²**: æ—©æœŸã‚¢ãƒ©ãƒ¼ãƒˆã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ éšœå®³ã®æœªç„¶é˜²æ­¢
- **ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³é‹ç”¨**: çµ±è¨ˆæƒ…å ±ã«åŸºã¥ã„ãŸé©åˆ‡ãªæ„æ€æ±ºå®š
- **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹**: ã‚·ã‚¹ãƒ†ãƒ ç›£æŸ»ãƒ­ã‚°ã®é©åˆ‡ãªç®¡ç†ãƒ»è¨˜éŒ²

### æŠ€è¡“çš„å¿…è¦æ€§
- **ç®¡ç†æ©Ÿèƒ½ã®é›†ç´„**: èªè¨¼ï¼ˆ001ï¼‰ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼ˆ002ï¼‰ã®çµ±åˆç®¡ç†å±¤
- **Gmailé€£æºç›£è¦–**: GmailåŒæœŸãƒ»AI TODOæŠ½å‡ºã®ç¨¼åƒçŠ¶æ³ç›£è¦–
- **ä¼æ¥­ç®¡ç†ã®åŸºç›¤**: ä¼æ¥­ç®¡ç†ï¼ˆ004ï¼‰å®Ÿè£…å‰ã®ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ç¢ºä¿
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µæ™‚ã®ç›£è¦–ãƒ»ç®¡ç†åŸºç›¤

### å®Ÿè£…å„ªå…ˆåº¦ã®ç†ç”±
- **é †åº003**: èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã®æ¬¡ã«å¿…è¦ãªç®¡ç†æ©Ÿèƒ½åŸºç›¤
- **ä¼æ¥­ç®¡ç†å‰ã®æº–å‚™**: CRMã‚³ã‚¢æ©Ÿèƒ½å®Ÿè£…å‰ã«ã‚·ã‚¹ãƒ†ãƒ å®‰å®šæ€§ã‚’ç¢ºä¿
- **é‹ç”¨åŸºç›¤ã®ç¢ºç«‹**: Gmailé€£æºãƒ»AIæ©Ÿèƒ½å®Ÿè£…å‰ã«ç›£è¦–ä½“åˆ¶ã‚’æ§‹ç¯‰

## 3. Whatï¼ˆè¦ä»¶ï¼‰

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼

**ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã¨ã—ã¦**
- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ç¨¼åƒçŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–ã§ãã‚‹
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ï¼ˆå¿œç­”æ™‚é–“ã€CPUã€ãƒ¡ãƒ¢ãƒªã€ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡ï¼‰ã‚’å¯è¦–åŒ–ã§ãã‚‹
- ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆã®è¨­å®šãƒ»ç®¡ç†ãƒ»ç¢ºèªãŒã§ãã‚‹
- å„ç¨®ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®é–²è¦§ãƒ»æ¤œç´¢ãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒã§ãã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»Gmailé€£æºãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®çµ±åˆç®¡ç†ãŒã§ãã‚‹
- ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®å¤‰æ›´ãƒ»ä¿å­˜ãŒã§ãã‚‹

**ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¨ã—ã¦**
- ã‚·ã‚¹ãƒ†ãƒ ã®å¥å…¨æ€§ã‚’ç¢ºèªã§ãã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼æ´»å‹•çŠ¶æ³ãƒ»çµ±è¨ˆæƒ…å ±ã‚’ç¢ºèªã§ãã‚‹
- ã‚·ã‚¹ãƒ†ãƒ ä½¿ç”¨çŠ¶æ³ãƒ¬ãƒãƒ¼ãƒˆã‚’å‡ºåŠ›ã§ãã‚‹

**ä¸Šä½æ¨©é™è€…ã¨ã—ã¦**
- å…¨ã‚·ã‚¹ãƒ†ãƒ æ©Ÿèƒ½ã®çµ±åˆçš„ãªç›£è¦–ãƒ»åˆ¶å¾¡ãŒã§ãã‚‹
- ç·Šæ€¥æ™‚ã®æ‰‹å‹•æ“ä½œï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œã€ã‚·ã‚¹ãƒ†ãƒ åœæ­¢ç­‰ï¼‰ãŒã§ãã‚‹

### æŠ€è¡“è¦ä»¶

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¦ä»¶**
- Material-UIãƒ™ãƒ¼ã‚¹ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³
- Chart.js ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚°ãƒ©ãƒ•è¡¨ç¤º
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ©Ÿèƒ½ï¼ˆWebSocket ã¾ãŸã¯ ãƒãƒ¼ãƒªãƒ³ã‚°ï¼‰
- è¨­å®šå€¤ã®æ°¸ç¶šåŒ–

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¦ä»¶**
- ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†API
- ãƒ­ã‚°ç®¡ç†ãƒ»æ¤œç´¢API
- ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç®¡ç†API
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥æ©Ÿèƒ½

**æˆåŠŸåŸºæº–**
- ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã®2ç§’ä»¥å†…ã§ã®è¡¨ç¤º
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®æ­£ç¢ºãªè¡¨ç¤º
- ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ã®å³åº§ãªåæ˜ 
- å¤§é‡ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„ãªæ¤œç´¢ãƒ»è¡¨ç¤º

## 4. All Needed Contextï¼ˆå¿…è¦ãªæƒ…å ±ï¼‰

### A. APIä»•æ§˜ï¼ˆschemas/index.tsã‹ã‚‰æŠœç²‹ï¼‰

```typescript
// ========== ã‚·ã‚¹ãƒ†ãƒ è¨­å®šé–¢é€£ ==========
export interface SystemSettings {
  id: ID;
  companyName: string;
  systemEmail: string;
  emailNotifications: {
    todoReminders: boolean;
    contractExpiry: boolean;
    proposalExpiry: boolean;
    dailyDigest: boolean;
  };
  security: {
    passwordMinLength: number;
    passwordRequireSpecialChar: boolean;
    sessionTimeout: number;
    maxLoginAttempts: number;
    mfaEnabled: boolean;
  };
  integration: {
    gmailClientId?: string;
    gmailClientSecret?: string;
    openaiApiKey?: string;
    openaiModel?: string;
  };
  sharedGmail: {
    enabled: boolean;
    accounts: Array<{
      id: string;
      email: string;
      displayName: string;
      accessToken: string;        // æš—å·åŒ–ä¿å­˜
      refreshToken: string;       // æš—å·åŒ–ä¿å­˜
      allowedRoles: UserRole[];   // ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªãƒ­ãƒ¼ãƒ«
    }>;
  };
  backup: {
    enabled: boolean;
    frequency: 'daily' | 'weekly' | 'monthly';
    retentionDays: number;
    lastBackupAt?: Date;
  };
  updatedAt: Date;
  updatedBy?: ID;
}

// ========== ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–¢é€£ ==========
export interface DashboardStats {
  companies: {
    total: number;
    byStatus: Record<CompanyStatus, number>;
    newThisMonth: number;
  };
  todos: {
    total: number;
    byStatus: Record<TodoStatus, number>;
    overdue: number;
    dueToday: number;
    aiExtracted: number;
  };
  emails: {
    totalThreads: number;
    unreadThreads: number;
    threadsToday: number;
    pendingAnalysis: number;
  };
  contracts: {
    active: number;
    expiringSoon: number;
    totalValue: number;
  };
  proposals: {
    submitted: number;
    underReview: number;
    accepted: number;
    totalValue: number;
  };
}

// ========== ç›£æŸ»ãƒ­ã‚°é–¢é€£ ==========
export enum AuditActionType {
  // èªè¨¼é–¢é€£
  LOGIN_SUCCESS = 'login_success',
  LOGIN_FAILED = 'login_failed',
  LOGOUT = 'logout',
  
  // æ¨©é™å¤‰æ›´
  ROLE_CHANGED = 'role_changed',
  ASSIGNEE_CHANGED = 'assignee_changed',
  
  // Gmailé–¢é€£
  GMAIL_CONNECTED = 'gmail_connected',
  GMAIL_DISCONNECTED = 'gmail_disconnected',
  SHARED_GMAIL_ACCESSED = 'shared_gmail_accessed',
  
  // ãƒ‡ãƒ¼ã‚¿æ“ä½œ
  DATA_EXPORTED = 'data_exported',
  DATA_IMPORTED = 'data_imported',
  BULK_OPERATION = 'bulk_operation',
  
  // CRUDæ“ä½œ
  CREATE = 'create',
  READ = 'read',
  UPDATE = 'update',
  DELETE = 'delete'
}

export interface AuditLog extends Timestamps {
  id: ID;
  userId: ID;
  user?: User;
  actionType: AuditActionType;      // åˆ—æŒ™å‹ã§æ˜ç¢ºåŒ–
  action: string;                    // è©³ç´°ãªèª¬æ˜
  entityType: string;
  entityId: ID;
  changes?: {
    before: Record<string, any>;
    after: Record<string, any>;
  };
  metadata?: {
    ipAddress?: string;
    userAgent?: string;
    sessionId?: string;
    riskScore?: number;            // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚¹ã‚³ã‚¢
  };
}

// ========== ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹é–¢é€£ï¼ˆæ–°è¦è¿½åŠ ï¼‰ ==========
export interface SystemMetrics {
  timestamp: Date;
  system: {
    uptime: number;               // ç§’å˜ä½
    cpuUsage: number;            // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ
    memoryUsage: number;         // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ
    diskUsage: number;           // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ
    networkIO: {
      bytesIn: number;
      bytesOut: number;
    };
  };
  application: {
    activeUsers: number;
    totalSessions: number;
    requestsPerMinute: number;
    averageResponseTime: number;  // ãƒŸãƒªç§’
    errorRate: number;           // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ
  };
  gmail: {
    syncStatus: GmailSyncStatus;
    lastSyncAt?: Date;
    syncDelayMinutes?: number;
    todayEmailCount: number;
    pendingTodoExtractions: number;
    apiQuotaUsage: number;       // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆ
  };
  database: {
    connectionCount: number;
    queryAverageTime: number;    // ãƒŸãƒªç§’
    size: number;               // ãƒã‚¤ãƒˆ
    tableStats: {
      companies: number;
      users: number;
      emailThreads: number;
      todos: number;
    };
  };
}

export interface SystemAlert {
  id: ID;
  type: 'info' | 'warning' | 'error' | 'critical';
  title: string;
  message: string;
  component: 'system' | 'gmail' | 'database' | 'security' | 'backup';
  isRead: boolean;
  isResolved: boolean;
  createdAt: Date;
  resolvedAt?: Date;
  metadata?: Record<string, any>;
}

// ğŸ”¥ é‡è¦: å®Ÿè£…æ™‚ã¯å¿…ãšã“ã®å‹å®šç¾©ã«å®Œå…¨æº–æ‹ ã™ã‚‹ã“ã¨
// âŒ ç¦æ­¢: ç‹¬è‡ªã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ {"success": true, "data": ...}
// âœ… å¿…é ˆ: å‹å®šç¾©é€šã‚Šã®å®Ÿè£… {"companies": {...}, "todos": {...}, ...}

// ========== APIãƒ‘ã‚¹å®šç¾©ï¼ˆã‚·ã‚¹ãƒ†ãƒ ç®¡ç†é–¢é€£ï¼‰ ==========
export const API_PATHS = {
  // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ
  DASHBOARD: {
    STATS: '/api/dashboard/stats',
    ACTIVITIES: '/api/dashboard/activities',
    CHARTS: '/api/dashboard/charts',
    METRICS: '/api/dashboard/metrics',           // ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—
    ALERTS: '/api/dashboard/alerts',             // ã‚¢ãƒ©ãƒ¼ãƒˆä¸€è¦§
    ALERT_DETAIL: (alertId: string) => `/api/dashboard/alerts/${alertId}`,
    MARK_ALERT_READ: (alertId: string) => `/api/dashboard/alerts/${alertId}/read`,
    RESOLVE_ALERT: (alertId: string) => `/api/dashboard/alerts/${alertId}/resolve`
  },
  
  // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ»ç®¡ç†
  SYSTEM: {
    SETTINGS: '/api/system/settings',
    AUDIT_LOGS: '/api/system/audit-logs',
    BACKUP: '/api/system/backup',
    RESTORE: '/api/system/restore',
    HEALTH: '/api/system/health',
    METRICS_HISTORY: '/api/system/metrics/history',  // å±¥æ­´ãƒ¡ãƒˆãƒªã‚¯ã‚¹
    LOGS: '/api/system/logs',                        // ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°
    LOG_SEARCH: '/api/system/logs/search',           // ãƒ­ã‚°æ¤œç´¢
    MAINTENANCE: '/api/system/maintenance',          // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰
    CACHE_CLEAR: '/api/system/cache/clear'           // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
  }
};

// ========== APIèªè¨¼è¨­å®š ==========
export const API_AUTH_CONFIG = {
  // ãƒ­ãƒ¼ãƒ«åˆ¶é™ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  ROLE_RESTRICTED_ENDPOINTS: {
    // ä¸Šä½æ¨©é™è€…ã®ã¿
    [UPPER_ROLES.join(',')]: [
      API_PATHS.DASHBOARD.STATS,
      API_PATHS.DASHBOARD.METRICS,
      API_PATHS.DASHBOARD.ALERTS,
      API_PATHS.SYSTEM.SETTINGS,
      API_PATHS.SYSTEM.AUDIT_LOGS,
      API_PATHS.SYSTEM.LOGS,
      API_PATHS.SYSTEM.METRICS_HISTORY
    ],
    
    // COMPANY_LEADER ã®ã¿
    [UserRole.COMPANY_LEADER]: [
      API_PATHS.SYSTEM.BACKUP,
      API_PATHS.SYSTEM.RESTORE,
      API_PATHS.SYSTEM.MAINTENANCE,
      API_PATHS.SYSTEM.CACHE_CLEAR
    ]
  }
};
```

### B. ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå®Œå…¨ãªHTMLã‚³ãƒ¼ãƒ‰ï¼‰

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - é¡§å®¢ç®¡ç†ãƒ„ãƒ¼ãƒ«</title>
    
    <!-- Material UI CDN -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    <!-- Chart.js for monitoring charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* å®Œå…¨ãªCSSï¼ˆçœç•¥ï¼šå®Ÿéš›ã¯1300è¡Œä»¥ä¸Šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ï¼‰*/
        .app-header {
            background: #1976d2;
            color: white;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .main-container {
            display: flex;
            height: calc(100vh - 64px);
        }
        
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
        }
        
        .main-content {
            flex: 1;
            background: white;
            display: flex;
            flex-direction: column;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .status-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .chart-container {
            height: 200px;
            margin-top: 16px;
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="app-header">
        <div class="app-title">ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</div>
        <div class="system-status">
            <div class="status-indicator" id="systemStatusIndicator"></div>
            <span id="systemStatusText">ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸ç¨¼åƒä¸­</span>
        </div>
        <div class="user-info">
            <span>ç®¡ç†è€…: ç”°ä¸­ å¤ªéƒ</span>
            <i class="material-icons">admin_panel_settings</i>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="main-container">
        <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h3 style="font-size: 16px; color: #333;">ç®¡ç†ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>
            </div>
            
            <!-- ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º -->
            <div class="alert-section" id="alertSection">
                <div class="alert-title">
                    <i class="material-icons" style="font-size: 16px;">warning</i>
                    ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆ
                </div>
                <div class="alert-item">GmailåŒæœŸé…å»¶ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ (5åˆ†é…å»¶)</div>
                <div class="alert-item">ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ãŒ80%ã‚’è¶…ãˆã¦ã„ã¾ã™</div>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-item active" onclick="showSection('overview')">
                    <i class="material-icons">dashboard</i>
                    ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
                </button>
                <button class="nav-item" onclick="showSection('users')">
                    <i class="material-icons">people</i>
                    ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
                </button>
                <button class="nav-item" onclick="showSection('monitoring')">
                    <i class="material-icons">monitoring</i>
                    ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
                </button>
                <button class="nav-item" onclick="showSection('logs')">
                    <i class="material-icons">article</i>
                    ãƒ­ã‚°ãƒ»å±¥æ­´
                </button>
                <button class="nav-item" onclick="showSection('security')">
                    <i class="material-icons">security</i>
                    ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
                </button>
                <button class="nav-item" onclick="showSection('backup')">
                    <i class="material-icons">backup</i>
                    ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
                </button>
                <button class="nav-item" onclick="showSection('settings')">
                    <i class="material-icons">settings</i>
                    ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
                </button>
            </nav>
        </div>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div class="main-content">
            <div class="content-header">
                <div class="content-title" id="contentTitle">ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦</div>
                <div class="header-actions" id="headerActions">
                    <button class="btn btn-secondary" onclick="refreshDashboard()">
                        <i class="material-icons" style="font-size: 16px;">refresh</i>
                        æ›´æ–°
                    </button>
                    <button class="btn btn-primary" onclick="exportReport()">
                        <i class="material-icons" style="font-size: 16px;">download</i>
                        ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›
                    </button>
                </div>
            </div>
            
            <div class="content-body" id="contentBody">
                <!-- 7ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã€ãƒ­ã‚°ãƒ»å±¥æ­´ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ã‚·ã‚¹ãƒ†ãƒ è¨­å®šï¼‰ã®è©³ç´°ãªHTMLå†…å®¹ -->
                
                <!-- ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä¾‹ -->
                <div class="dashboard-grid">
                    <div class="status-card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="material-icons">computer</i>
                                ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒçŠ¶æ³
                            </div>
                            <span class="card-status status-healthy">æ­£å¸¸</span>
                        </div>
                        <div class="metric-grid">
                            <div class="metric-item">
                                <div class="metric-value">99.8%</div>
                                <div class="metric-label">ç¨¼åƒç‡ï¼ˆ30æ—¥ï¼‰</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-value">15æ—¥</div>
                                <div class="metric-label">é€£ç¶šç¨¼åƒæ™‚é–“</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-value">234ms</div>
                                <div class="metric-label">å¹³å‡å¿œç­”æ™‚é–“</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-value">10</div>
                                <div class="metric-label">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- GmailåŒæœŸçŠ¶æ³ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å„ã‚«ãƒ¼ãƒ‰ -->
                    <!-- çœç•¥ï¼šå®Ÿéš›ã¯4ã¤ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚«ãƒ¼ãƒ‰ + ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ£ãƒ¼ãƒˆ -->
                </div>
                
                <!-- ä»–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è©³ç´°HTMLçœç•¥ -->
            </div>
        </div>
    </div>

    <script>
        let currentSection = 'overview';
        let charts = {};

        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
        function showSection(section) {
            // 7ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆoverview, users, monitoring, logs, security, backup, settingsï¼‰
            // å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®HTMLå‹•çš„ç”Ÿæˆ
            // Chart.js ã«ã‚ˆã‚‹å‹•çš„ã‚°ãƒ©ãƒ•æç”»
            // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°å‡¦ç†
        }

        // ãƒãƒ£ãƒ¼ãƒˆæç”»é–¢æ•°
        function renderPerformanceChart() {
            // Chart.js ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ£ãƒ¼ãƒˆæç”»
        }

        function renderResourceChart() {
            // ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡ã®å††ã‚°ãƒ©ãƒ•
        }

        function renderResponseChart() {
            // å¿œç­”æ™‚é–“ã®æ£’ã‚°ãƒ©ãƒ•
        }

        // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
        function updateSystemStatus() {
            // ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
        }

        // å®šæœŸæ›´æ–°ï¼ˆ30ç§’é–“éš”ï¼‰
        setInterval(updateSystemStatus, 30000);
    </script>
</body>
</html>
```

### C. çµ±ä¸€ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆauth-system-design.mdã‹ã‚‰é–¢é€£éƒ¨åˆ†ã‚’æŠœç²‹ï¼‰

ä»¥ä¸‹ã®çµ±ä¸€ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’å¿…ãšé©ç”¨ï¼š

**æ¨©é™ç®¡ç†ã®çµ±ä¸€**
- **ç®¡ç†è€…æ¨©é™**: COMPANY_LEADER/MANAGER/TEAM_LEADERã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- **æ©Ÿèƒ½åˆ¶é™**: COMPANY_LEADERã®ã¿é‡è¦ã‚·ã‚¹ãƒ†ãƒ æ“ä½œï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼‰å¯èƒ½
- **ç›£æŸ»ãƒ­ã‚°**: å…¨ç®¡ç†æ“ä½œã®å®Œå…¨ãªè¨˜éŒ²ä¿æŒ
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¨©é™ãƒã‚§ãƒƒã‚¯**: å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºæ™‚ã®æ¨©é™ç¢ºèª

**ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ã®çµ±ä¸€**
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: 30ç§’é–“éš”ã§ã®å®šæœŸçš„ãªã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³åé›†
- **ã‚¢ãƒ©ãƒ¼ãƒˆåŸºæº–**: å¿œç­”æ™‚é–“2ç§’ã€CPUä½¿ç”¨ç‡80%ã€ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡85%
- **ãƒ­ã‚°ç®¡ç†**: æ§‹é€ åŒ–ãƒ­ã‚°ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªæ¤œç´¢ãƒ»åˆ†æ
- **ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›**: æ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã®çµ±è¨ˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

**ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®çµ±ä¸€**
- **DashboardStats**: å„æ©Ÿèƒ½ã®çµ±è¨ˆæƒ…å ±ã®çµ±ä¸€å½¢å¼
- **SystemMetrics**: ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æƒ…å ±ã®æ¨™æº–åŒ–
- **AuditLog**: ç›£æŸ»ãƒ­ã‚°ã®çµ±ä¸€è¨˜éŒ²å½¢å¼
- **SystemAlert**: ã‚¢ãƒ©ãƒ¼ãƒˆæƒ…å ±ã®æ¨™æº–åŒ–

**Gmailé€£æºç›£è¦–ã®çµ±ä¸€**
- **åŒæœŸçŠ¶æ³**: GmailSyncStatus enumã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†
- **é…å»¶ç›£è¦–**: 5åˆ†ä»¥ä¸Šã®é…å»¶ã§ã‚¢ãƒ©ãƒ¼ãƒˆç™ºç”Ÿ
- **APIåˆ¶é™ç›£è¦–**: Gmail APIä½¿ç”¨é‡ã®ç›£è¦–ãƒ»åˆ¶å¾¡
- **AI TODOæŠ½å‡º**: æŠ½å‡ºå‡¦ç†ã®çŠ¶æ³ãƒ»çµ±è¨ˆã®ç›£è¦–

### D. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
frontend/src/
â”œâ”€â”€ pages/admin/                    # ç®¡ç†è€…ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ SystemDashboardPage.tsx     # P-004: ã‚·ã‚¹ãƒ†ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸
â”œâ”€â”€ components/features/system/     # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ SystemOverview.tsx         # ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ SystemMetricsCard.tsx      # ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚«ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ SystemAlertsPanel.tsx      # ã‚¢ãƒ©ãƒ¼ãƒˆãƒ‘ãƒãƒ«
â”‚   â”œâ”€â”€ PerformanceMonitoring.tsx  # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
â”‚   â”œâ”€â”€ SystemLogs.tsx             # ãƒ­ã‚°è¡¨ç¤ºãƒ»æ¤œç´¢
â”‚   â”œâ”€â”€ SecurityDashboard.tsx      # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ BackupManagement.tsx       # ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç®¡ç†
â”‚   â”œâ”€â”€ SystemSettings.tsx         # ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
â”‚   â”œâ”€â”€ RealtimeChart.tsx          # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒ¼ãƒˆ
â”‚   â””â”€â”€ NavigationSidebar.tsx      # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”œâ”€â”€ services/                      # ğŸ”¥ çµ±åˆå±¤ï¼ˆãƒ¢ãƒƒã‚¯/å®ŸAPIåˆ‡ã‚Šæ›¿ãˆç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ index.ts                   # ğŸ”¥ çµ±åˆå±¤ï¼ˆãƒ¢ãƒƒã‚¯/å®ŸAPIåˆ‡ã‚Šæ›¿ãˆç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ mock/                      # ğŸ”¥ ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ data/                  # ğŸ”¥ ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆå‹å®šç¾©æº–æ‹ ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.mock.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.mock.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ alerts.mock.ts
â”‚   â”‚   â”‚   â””â”€â”€ settings.mock.ts
â”‚   â”‚   â””â”€â”€ system.service.ts
â”‚   â”œâ”€â”€ api/                       # å®ŸAPIæ¥ç¶šå®Ÿè£…
â”‚   â”‚   â”œâ”€â”€ client.ts              # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåŸºç›¤
â”‚   â”‚   â””â”€â”€ system.service.ts
â”‚   â””â”€â”€ utils/                     # ğŸ”¥ @MARKã‚·ã‚¹ãƒ†ãƒ é–¢é€£ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â””â”€â”€ schemas/                       # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨åŒæœŸã™ã‚‹ãƒ‡ãƒ¼ã‚¿å¥‘ç´„
    â””â”€â”€ index.ts                   # APIãƒ‘ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿å¥‘ç´„ï¼ˆå˜ä¸€ã®çœŸå®Ÿæºï¼‰

backend/src/
â”œâ”€â”€ features/system/               # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†æ©Ÿèƒ½
â”‚   â”œâ”€â”€ system.controller.ts      # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ system.service.ts         # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ system.routes.ts          # ãƒ«ãƒ¼ãƒˆå®šç¾©
â”‚   â”œâ”€â”€ metrics.service.ts        # ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ alerts.service.ts         # ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ logs.service.ts           # ãƒ­ã‚°ç®¡ç†ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â””â”€â”€ monitoring.service.ts     # ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ common/middlewares/            # å…±é€šãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”œâ”€â”€ metrics.middleware.ts     # ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â””â”€â”€ alert.middleware.ts       # ã‚¢ãƒ©ãƒ¼ãƒˆç”ŸæˆãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â””â”€â”€ types/
    â””â”€â”€ index.ts                   # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨åŒæœŸã—ãŸå‹å®šç¾©
```

### E. ãƒ¢ãƒƒã‚¯â†’APIåˆ‡ã‚Šæ›¿ãˆæ–¹é‡

```typescript
// ğŸ”¥ Phase 2A: ãƒ¢ãƒƒã‚¯å®Ÿè£…æ™‚ã®å¿…é ˆãƒ«ãƒ¼ãƒ«
// 1. ã™ã¹ã¦ã®ãƒ¢ãƒƒã‚¯ç®‡æ‰€ã« @MOCK_TO_API ãƒãƒ¼ã‚¯ä»˜ä¸
// 2. ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã¯ services/mock/data/ ã«åˆ†é›¢
// 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰å®Œå…¨ç¦æ­¢

// Phase 2Aå®Ÿè£…ä¾‹ï¼š
// @MOCK_TO_API: systemService.getDashboardStats()ã«ç½®ãæ›ãˆ
const dashboardStats = await mockSystemService.getDashboardStats();

// services/index.ts ã§ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export const systemService = mockSystemService;

// ğŸ”¥ ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®å“è³ªåŸºæº–
// services/mock/data/dashboard.mock.ts ã®ä¾‹
export const mockDashboardStats: DashboardStats = {
  // schemas/index.ts ã® DashboardStatså‹å®šç¾©ã«å®Œå…¨æº–æ‹ 
  companies: {
    total: 156,
    byStatus: {
      [CompanyStatus.PROSPECT]: 45,
      [CompanyStatus.ACTIVE]: 89,
      [CompanyStatus.INACTIVE]: 22
    },
    newThisMonth: 12
  },
  todos: {
    total: 423,
    byStatus: {
      [TodoStatus.PENDING]: 156,
      [TodoStatus.IN_PROGRESS]: 89,
      [TodoStatus.COMPLETED]: 167,
      [TodoStatus.CANCELLED]: 11
    },
    overdue: 23,
    dueToday: 15,
    aiExtracted: 67
  },
  emails: {
    totalThreads: 23456,
    unreadThreads: 234,
    threadsToday: 1234,
    pendingAnalysis: 45
  },
  contracts: {
    active: 78,
    expiringSoon: 12,
    totalValue: 45600000
  },
  proposals: {
    submitted: 34,
    underReview: 12,
    accepted: 23,
    totalValue: 12300000
  }
};

export const mockSystemMetrics: SystemMetrics = {
  // schemas/index.ts ã® SystemMetricså‹å®šç¾©ã«å®Œå…¨æº–æ‹ 
  timestamp: new Date(),
  system: {
    uptime: 1296000,        // 15æ—¥
    cpuUsage: 45.6,         // 45.6%
    memoryUsage: 67.2,      // 67.2%
    diskUsage: 78.9,        // 78.9%
    networkIO: {
      bytesIn: 1234567890,
      bytesOut: 987654321
    }
  },
  application: {
    activeUsers: 10,
    totalSessions: 24,
    requestsPerMinute: 156,
    averageResponseTime: 234,  // 234ms
    errorRate: 0.1             // 0.1%
  },
  gmail: {
    syncStatus: GmailSyncStatus.SYNCING,
    lastSyncAt: new Date('2024-01-27T15:25:00Z'),
    syncDelayMinutes: 5,
    todayEmailCount: 1234,
    pendingTodoExtractions: 8,
    apiQuotaUsage: 45.6        // 45.6%
  },
  database: {
    connectionCount: 12,
    queryAverageTime: 45,      // 45ms
    size: 2469606195,          // 2.3GB
    tableStats: {
      companies: 156,
      users: 10,
      emailThreads: 23456,
      todos: 423
    }
  }
};

export const mockSystemAlerts: SystemAlert[] = [
  {
    id: "alert-001",
    type: "warning",
    title: "GmailåŒæœŸé…å»¶",
    message: "GmailåŒæœŸé…å»¶ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ (5åˆ†é…å»¶)",
    component: "gmail",
    isRead: false,
    isResolved: false,
    createdAt: new Date('2024-01-27T15:25:00Z'),
    metadata: {
      delayMinutes: 5,
      affectedUsers: 8
    }
  },
  {
    id: "alert-002",
    type: "warning",
    title: "ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡è­¦å‘Š",
    message: "ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ãŒ80%ã‚’è¶…ãˆã¦ã„ã¾ã™",
    component: "system",
    isRead: false,
    isResolved: false,
    createdAt: new Date('2024-01-27T15:10:00Z'),
    metadata: {
      currentUsage: 80.2,
      threshold: 80
    }
  }
];

// ğŸ”¥ Phase 2B: APIåˆ‡ã‚Šæ›¿ãˆæ™‚ã®æ‰‹é †
// 1. grep -r "@MOCK_TO_API" src/ ã§å¯¾è±¡ç®‡æ‰€ç‰¹å®š
// 2. ãƒ¢ãƒƒã‚¯å‘¼ã³å‡ºã—ã‚’å®ŸAPIå‘¼ã³å‡ºã—ã«ç½®ãæ›ãˆ
// 3. services/mock/data/[ã‚·ã‚¹ãƒ†ãƒ é–¢é€£].mock.ts å‰Šé™¤
// 4. services/index.ts ã§å®ŸAPIã‚µãƒ¼ãƒ“ã‚¹ã«åˆ‡ã‚Šæ›¿ãˆ

// Phase 2Bå®Ÿè£…ä¾‹ï¼š
const dashboardStats = await systemService.getDashboardStats();

// services/index.ts ã§å¯¾è±¡æ©Ÿèƒ½ã®ã¿å®ŸAPIã«åˆ‡ã‚Šæ›¿ãˆ
export const systemService = apiSystemService;     // â† å®ŸAPIã«åˆ‡ã‚Šæ›¿ãˆæ¸ˆã¿
export const usersService = mockUsersService;      // â† ã¾ã ãƒ¢ãƒƒã‚¯

// ğŸ”¥ å‹å®šç¾©ã®å…·ä½“çš„æ´»ç”¨ä¾‹
import { DashboardStats, SystemMetrics, API_PATHS } from '@/schemas';

const getDashboardStats = async (): Promise<DashboardStats> => {
  const response = await fetch(API_PATHS.DASHBOARD.STATS, {
    method: 'GET',
    headers: { 'Authorization': `Bearer ${token}` }
  });
  return response.json() as DashboardStats;
};

const getSystemMetrics = async (): Promise<SystemMetrics> => {
  const response = await fetch(API_PATHS.DASHBOARD.METRICS, {
    method: 'GET',
    headers: { 'Authorization': `Bearer ${token}` }
  });
  return response.json() as SystemMetrics;
};

// ğŸ”¥ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã®å®Ÿè£…ä¾‹
const useRealtimeMetrics = () => {
  const [metrics, setMetrics] = useState<SystemMetrics | null>(null);
  
  useEffect(() => {
    const fetchMetrics = async () => {
      try {
        // @MOCK_TO_API: systemService.getRealtimeMetrics()ã«ç½®ãæ›ãˆ
        const data = await mockSystemService.getRealtimeMetrics();
        setMetrics(data);
      } catch (error) {
        console.error('ãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
      }
    };
    
    // åˆå›å–å¾—
    fetchMetrics();
    
    // 30ç§’é–“éš”ã§ã®è‡ªå‹•æ›´æ–°
    const interval = setInterval(fetchMetrics, 30000);
    
    return () => clearInterval(interval);
  }, []);
  
  return metrics;
};

// ğŸ”¥ æ¨©é™ãƒã‚§ãƒƒã‚¯å®Ÿè£…ä¾‹
const canAccessSystemDashboard = (user: User): boolean => {
  return isUpperRole(user.role);
};

const canManageSystemSettings = (user: User): boolean => {
  return user.role === UserRole.COMPANY_LEADER;
};
```

## 5. Implementation Blueprintï¼ˆå®Ÿè£…è¨­è¨ˆå›³ï¼‰

### Phase 1: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ2-3æ—¥ï¼‰

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ:
- [ ] schemas/index.tsã®å‹å®šç¾©ç¢ºèªãƒ»æ‹¡å¼µ
  - SystemMetricså‹ã®è¿½åŠ å®Ÿè£…
  - SystemAlertå‹ã®è¿½åŠ å®Ÿè£…  
  - API_PATHSã®æ‹¡å¼µï¼ˆDASHBOARD.*ï¼‰
- [ ] ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
  - GET /api/dashboard/stats (çµ±è¨ˆæƒ…å ±å–å¾—)
  - GET /api/dashboard/metrics (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹)
  - GET /api/dashboard/alerts (ã‚¢ãƒ©ãƒ¼ãƒˆä¸€è¦§)
  - PUT /api/dashboard/alerts/:id/read (ã‚¢ãƒ©ãƒ¼ãƒˆæ—¢èª­)
  - PUT /api/dashboard/alerts/:id/resolve (ã‚¢ãƒ©ãƒ¼ãƒˆè§£æ±º)
  - GET /api/system/settings (ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå–å¾—)
  - PUT /api/system/settings (ã‚·ã‚¹ãƒ†ãƒ è¨­å®šæ›´æ–°)
  - GET /api/system/logs (ãƒ­ã‚°å–å¾—)
  - POST /api/system/logs/search (ãƒ­ã‚°æ¤œç´¢)
  - GET /api/system/health (ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯)
  - POST /api/system/backup (æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ)
- [ ] ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã‚µãƒ¼ãƒ“ã‚¹å®Ÿè£…
  - ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–
  - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç›£è¦–
  - Gmailé€£æºçŠ¶æ³ç›£è¦–
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç›£è¦–
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
  - é–¾å€¤ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆç”Ÿæˆ
  - ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥æ©Ÿèƒ½
  - ã‚¢ãƒ©ãƒ¼ãƒˆè§£æ±ºãƒ»å±¥æ­´ç®¡ç†
- [ ] ãƒ­ã‚°ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
  - æ§‹é€ åŒ–ãƒ­ã‚°è¨˜éŒ²
  - ãƒ­ã‚°æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] ãƒ†ã‚¹ãƒˆé€šéç¢ºèª

å“è³ªãƒã‚§ãƒƒã‚¯:
- [ ] Backend Syntax & Style
- [ ] Backend Integration Test
```

### Phase 2A: UIå®Ÿè£…ï¼ˆ2-3æ—¥ï¼‰

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ:
- [ ] ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆï¼ˆãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ™ãƒ¼ã‚¹ï¼‰
  - SystemDashboardPage.tsx (ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸)
  - SystemOverview.tsx (ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³)
  - SystemMetricsCard.tsx (ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚«ãƒ¼ãƒ‰)
  - SystemAlertsPanel.tsx (ã‚¢ãƒ©ãƒ¼ãƒˆãƒ‘ãƒãƒ«)
  - PerformanceMonitoring.tsx (ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–)
  - SystemLogs.tsx (ãƒ­ã‚°è¡¨ç¤ºãƒ»æ¤œç´¢)
  - SecurityDashboard.tsx (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰)
  - BackupManagement.tsx (ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç®¡ç†)
  - SystemSettings.tsx (ã‚·ã‚¹ãƒ†ãƒ è¨­å®š)
  - RealtimeChart.tsx (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒ¼ãƒˆ)
  - NavigationSidebar.tsx (ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ãƒ‰ãƒãƒ¼)
- [ ] ğŸ”¥ ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®å®Ÿè£…ï¼ˆ@MARKã‚·ã‚¹ãƒ†ãƒ ä½¿ç”¨ï¼‰
  - services/mock/data/dashboard.mock.ts ã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
  - services/mock/data/metrics.mock.ts ã«ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ‡ãƒ¼ã‚¿
  - services/mock/data/alerts.mock.ts ã«ã‚¢ãƒ©ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿
  - services/mock/data/settings.mock.ts ã«ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ‡ãƒ¼ã‚¿
  - å…¨ãƒ¢ãƒƒã‚¯ç®‡æ‰€ã« @MOCK_TO_API ã‚³ãƒ¡ãƒ³ãƒˆä»˜ä¸
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰å®Œå…¨ç¦æ­¢
- [ ] services/index.ts ã§ãƒ¢ãƒƒã‚¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- [ ] ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®å“è³ªç¢ºèªï¼ˆschemas/index.tså®Œå…¨æº–æ‹ ï¼‰
- [ ] Chart.js ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚°ãƒ©ãƒ•å®Ÿè£…
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ£ãƒ¼ãƒˆï¼ˆç·šã‚°ãƒ©ãƒ•ï¼‰
  - ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨ç‡ãƒãƒ£ãƒ¼ãƒˆï¼ˆå††ã‚°ãƒ©ãƒ•ï¼‰
  - å¿œç­”æ™‚é–“ãƒãƒ£ãƒ¼ãƒˆï¼ˆæ£’ã‚°ãƒ©ãƒ•ï¼‰
- [ ] ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½å®Ÿè£…
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºãƒ»ç®¡ç†æ©Ÿèƒ½å®Ÿè£…
- [ ] ã‚·ã‚¹ãƒ†ãƒ è¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

å®Ÿè£…ãƒ«ãƒ¼ãƒ«:
// @MOCK_TO_API: APIå®Ÿè£…æ™‚ã«ã“ã®ãƒ–ãƒ­ãƒƒã‚¯å…¨ä½“ã‚’APIå‘¼ã³å‡ºã—ã«ç½®ãæ›ãˆ
const dashboardData = await mockSystemService.getDashboardStats();

å“è³ªãƒã‚§ãƒƒã‚¯:
- [ ] Frontend Syntax & Style
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ç¢ºèª
- [ ] åŸºæœ¬çš„ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç¢ºèª

æ³¨æ„: å®Ÿéš›ã®å‹•ä½œç¢ºèªãƒ»UIèª¿æ•´ã¯ Phase 3 ã§äººé–“ãŒå®Ÿè¡Œ
```

### Phase 2B: APIæ¥ç¶šï¼ˆ1-2æ—¥ï¼‰

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ:
- [ ] ğŸ”¥ @MARKæ¤œç´¢ã§ãƒ¢ãƒƒã‚¯ç®‡æ‰€ç‰¹å®š
  grep -r "@MOCK_TO_API" src/
- [ ] å¯¾è±¡æ©Ÿèƒ½ã®ãƒ¢ãƒƒã‚¯ç®‡æ‰€ã‚’å®ŸAPIå‘¼ã³å‡ºã—ã«ç½®ãæ›ãˆ
  - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰çµ±è¨ˆå–å¾—
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹å–å¾—
  - ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†ï¼ˆå–å¾—ãƒ»æ—¢èª­ãƒ»è§£æ±ºï¼‰
  - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šï¼ˆå–å¾—ãƒ»æ›´æ–°ï¼‰
  - ãƒ­ã‚°ç®¡ç†ï¼ˆå–å¾—ãƒ»æ¤œç´¢ï¼‰
  - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
- [ ] services/mock/data/[ã‚·ã‚¹ãƒ†ãƒ é–¢é€£].mock.ts ã®ã¿å‰Šé™¤
- [ ] services/index.ts ã§å¯¾è±¡æ©Ÿèƒ½ã®ã¿å®ŸAPIã«åˆ‡ã‚Šæ›¿ãˆ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…ï¼ˆ401/403/500/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼å¯¾å¿œï¼‰
- [ ] å‹å®šç¾©ã‚’æ´»ç”¨ã—ãŸAPIå‘¼ã³å‡ºã—å®Ÿè£…
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹å®Ÿè£…
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ©Ÿèƒ½å®Ÿè£…ï¼ˆ30ç§’é–“éš”ï¼‰
- [ ] æ¨©é™ãƒã‚§ãƒƒã‚¯å®Ÿè£…ï¼ˆä¸Šä½æ¨©é™è€…ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ï¼‰

å“è³ªãƒã‚§ãƒƒã‚¯:
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆAPIæ¥ç¶šå¾Œï¼‰
- [ ] å‹å®šç¾©ã®æ•´åˆæ€§ç¢ºèª
- [ ] åŸºæœ¬çš„ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç¢ºèª
```

### Phase 3: äººé–“ã«ã‚ˆã‚‹æœ€çµ‚ç¢ºèªï¼ˆåŠæ—¥ï¼‰

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ:
- [ ] ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆnpm run devï¼‰
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

å“è³ªãƒã‚§ãƒƒã‚¯:
- [ ] ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§ã®å‹•ä½œç¢ºèªï¼ˆäººé–“ï¼‰
- [ ] UI/UXèª¿æ•´ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰ï¼ˆäººé–“ï¼‰
- [ ] å…¨ãƒšãƒ¼ã‚¸ã®è¦–è¦šçš„ç¢ºèªï¼ˆäººé–“ï¼‰
- [ ] å…¨ãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèªï¼ˆäººé–“ï¼‰
  - 7ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º
  - ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºãƒ»æ›´æ–°
  - ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºãƒ»ç®¡ç†
  - ãƒ­ã‚°è¡¨ç¤ºãƒ»æ¤œç´¢
  - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´ãƒ»ä¿å­˜
  - ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›
- [ ] ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã®ä¸€è‡´ç¢ºèªï¼ˆäººé–“ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèªï¼ˆäººé–“ï¼‰
- [ ] æ¨©é™åˆ¶å¾¡ã®å‹•ä½œç¢ºèªï¼ˆäººé–“ï¼‰
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ç¢ºèªï¼ˆäººé–“ï¼‰
```

## 6. Validation Loopï¼ˆæ¤œè¨¼ãƒ«ãƒ¼ãƒ—ï¼‰

å„Phaseã§å®Ÿè¡Œã™ã‚‹å“è³ªãƒã‚§ãƒƒã‚¯ã®è©³ç´°ã‚³ãƒãƒ³ãƒ‰ï¼š

### Phase 1å®Œäº†æ™‚: Backend Syntax & Style + å‹å®šç¾©æ•´åˆæ€§ç¢ºèª + Backend Integration Test

```bash
# Backend Syntax & Style
cd backend && npm run lint -- --fix
cd backend && npm run type-check
# æœŸå¾…å€¤: ã‚¨ãƒ©ãƒ¼ãªã—

# ğŸ”¥ å‹å®šç¾©æ•´åˆæ€§ç¢ºèªï¼ˆæœ€å„ªå…ˆãƒ»è»½é‡ï¼‰
npm run dev &

# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰çµ±è¨ˆAPIç¢ºèª
curl -X GET http://localhost:3000/api/dashboard/stats \
  -H "Authorization: Bearer YOUR_TOKEN" \
  | jq '.'

# æœŸå¾…å€¤: schemas/index.tsã®DashboardStatså‹ã¨å®Œå…¨ä¸€è‡´
# {
#   "companies": {
#     "total": 156,
#     "byStatus": {
#       "prospect": 45,
#       "active": 89,
#       "inactive": 22
#     },
#     "newThisMonth": 12
#   },
#   "todos": {
#     "total": 423,
#     "byStatus": { ... },
#     "overdue": 23,
#     "dueToday": 15,
#     "aiExtracted": 67
#   },
#   "emails": { ... },
#   "contracts": { ... },
#   "proposals": { ... }
# }
#
# âŒ ä¸ä¸€è‡´ä¾‹: {"success": true, "data": {...}}
# â†’ ã“ã®å ´åˆã¯å³åº§ã«å®Ÿè£…ä¿®æ­£ã—ã¦ã‹ã‚‰æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸

# ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹APIç¢ºèª
curl -X GET http://localhost:3000/api/dashboard/metrics \
  -H "Authorization: Bearer YOUR_TOKEN" \
  | jq '.'

# æœŸå¾…å€¤: schemas/index.tsã®SystemMetricså‹ã¨å®Œå…¨ä¸€è‡´
# {
#   "timestamp": "2024-01-27T15:30:00Z",
#   "system": {
#     "uptime": 1296000,
#     "cpuUsage": 45.6,
#     "memoryUsage": 67.2,
#     "diskUsage": 78.9,
#     "networkIO": { ... }
#   },
#   "application": { ... },
#   "gmail": { ... },
#   "database": { ... }
# }

# ã‚¢ãƒ©ãƒ¼ãƒˆä¸€è¦§APIç¢ºèª
curl -X GET http://localhost:3000/api/dashboard/alerts \
  -H "Authorization: Bearer YOUR_TOKEN" \
  | jq '.'

# æœŸå¾…å€¤: SystemAlert[]å‹ã®é…åˆ—

# Backend Integration Testï¼ˆå‹å®šç¾©ç¢ºèªå¾Œã«å®Ÿè¡Œï¼‰
npm run test:integration -- tests/integration/system.flow.test.js
# æœŸå¾…å€¤: ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†APIã®å…¨ãƒ†ã‚¹ãƒˆé€šé
```

### Phase 2Aå®Œäº†æ™‚: Frontend Syntax & Style + ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆAIè‡ªå‹•ï¼‰

```bash
# Frontend Syntax & Style
cd frontend && npm run lint -- --fix
cd frontend && npm run type-check
# æœŸå¾…å€¤: ã‚¨ãƒ©ãƒ¼ãªã—

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ç¢ºèª
npm run build
# æœŸå¾…å€¤: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—

# ğŸ”¥ ãƒ¢ãƒƒã‚¯å®Ÿè£…ã®å®Œå…¨æ€§ç¢ºèª
grep -r "@MOCK_TO_API" src/ | wc -l
# æœŸå¾…å€¤: ã™ã¹ã¦ã®ãƒ¢ãƒƒã‚¯ç®‡æ‰€ãŒãƒãƒ¼ã‚­ãƒ³ã‚°æ¸ˆã¿

grep -r "services/mock/data" src/
# æœŸå¾…å€¤: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãŒå®Œå…¨åˆ†é›¢æ¸ˆã¿

# Chart.js ä¾å­˜é–¢ä¿‚ç¢ºèª
grep -r "chart.js\|Chart" src/
# æœŸå¾…å€¤: ãƒãƒ£ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæ­£ã—ãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹

# å‹å®šç¾©æ•´åˆæ€§ç¢ºèª
grep -r "DashboardStats\|SystemMetrics\|SystemAlert" src/
# æœŸå¾…å€¤: æ­£ã—ãimportã•ã‚Œã¦ã„ã‚‹

# æ³¨æ„: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§ã®å‹•ä½œç¢ºèªã¯ Phase 3 ã§äººé–“ãŒå®Ÿè¡Œ
# AIã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®è¡¨ç¤ºç¢ºèªãƒ»UIæ“ä½œç¢ºèªã¯ã§ãã¾ã›ã‚“
```

### Phase 2Bå®Œäº†æ™‚: APIæ¥ç¶šå¾Œã®ç¢ºèªï¼ˆCLIå®Œçµï¼‰

```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆAPIæ¥ç¶šå¾Œï¼‰
npm run build
# æœŸå¾…å€¤: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—

# å‹ãƒã‚§ãƒƒã‚¯ç¢ºèª
npm run type-check
# æœŸå¾…å€¤: å‹ã‚¨ãƒ©ãƒ¼ãªã—

# ğŸ”¥ ãƒ¢ãƒƒã‚¯â†’APIåˆ‡ã‚Šæ›¿ãˆå®Œäº†ç¢ºèª
grep -r "@MOCK_TO_API" src/
# æœŸå¾…å€¤: æ¤œç´¢çµæœãªã—ï¼ˆå…¨ã¦å®ŸAPIã«ç½®ãæ›ãˆæ¸ˆã¿ï¼‰

ls services/mock/data/
# æœŸå¾…å€¤: ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆdashboard.mock.tsç­‰ï¼‰ã®ã¿å‰Šé™¤æ¸ˆã¿

# ğŸ”¥ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é€£æºç¢ºèªï¼ˆé‡è¦ï¼‰
npm run dev &

# APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç–é€šç¢ºèª
curl -X GET http://localhost:3000/api/dashboard/stats \
  -H "Authorization: Bearer YOUR_TOKEN" \
  | jq '.companies.total, .todos.total, .emails.totalThreads'

# ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç–é€šç¢ºèª
curl -X GET http://localhost:3000/api/dashboard/metrics \
  -H "Authorization: Bearer YOUR_TOKEN" \
  | jq '.system.cpuUsage, .application.activeUsers'

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ¼ãƒ‰ã§ã®å®Ÿéš›ã®ä½¿ç”¨ç¢ºèª
grep -r "companies\|todos\|emails" frontend/src/ | head -5
grep -r "API_PATHS.DASHBOARD" frontend/src/ | head -5

# æœŸå¾…å€¤: 
# - @MOCK_TO_API ãƒãƒ¼ã‚¯ãŒå®Œå…¨å‰Šé™¤æ¸ˆã¿
# - ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿å‰Šé™¤æ¸ˆã¿
# - APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã« companies, todos, emailsç­‰ãŒå­˜åœ¨
# - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ¼ãƒ‰ã§æ­£ã—ã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚’ä½¿ç”¨
# - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã®å®Œå…¨ä¸€è‡´
```

### Phase 3å®Œäº†æ™‚: äººé–“ã«ã‚ˆã‚‹æœ€çµ‚ç¢ºèª

```bash
# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã®ã¿ï¼ˆAIãŒå®Ÿè¡Œï¼‰
npm run dev

# ä»¥ä¸‹ã¯äººé–“ãŒå®Ÿè¡Œ:
# - ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000/admin/dashboard ã‚’é–‹ã
# - mockups/system-dashboard.html ã¨è¦–è¦šçš„ã«æ¯”è¼ƒ
# - å…¨ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ•ãƒ­ãƒ¼ã‚’ç¢ºèª
#   - 7ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆï¼ˆæ¦‚è¦ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ç›£è¦–ãƒ»ãƒ­ã‚°ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»è¨­å®šï¼‰
#   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º
#   - Chart.js ã‚°ãƒ©ãƒ•ã®æ­£å¸¸è¡¨ç¤ºãƒ»æ›´æ–°
#   - ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤ºãƒ»æ—¢èª­ãƒ»è§£æ±ºæ“ä½œ
#   - ãƒ­ã‚°è¡¨ç¤ºãƒ»æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
#   - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´ãƒ»ä¿å­˜
#   - ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›æ©Ÿèƒ½
#   - æ‰‹å‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
# - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèªï¼ˆå¿œç­”æ™‚é–“2ç§’ä»¥å†…ç­‰ï¼‰
# - æ¨©é™åˆ¶å¾¡ç¢ºèªï¼ˆæ¨©é™ã«å¿œã˜ãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºãƒ»éè¡¨ç¤ºï¼‰
# - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ç¢ºèªï¼ˆãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œï¼‰
# - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ç¢ºèªï¼ˆ30ç§’é–“éš”ã§ã®è‡ªå‹•æ›´æ–°ï¼‰
# - æœ€çµ‚çš„ãªå“è³ªç¢ºèª

# æ³¨æ„: APIãƒ†ã‚¹ãƒˆã¯Phase 1ã§å®Œäº†æ¸ˆã¿
```

## 7. å®Œäº†æ¡ä»¶

### æŠ€è¡“çš„å®Œäº†åŸºæº–:
- [ ] å…¨ãƒ†ã‚¹ãƒˆãŒé€šéï¼ˆPhase 1: Backend Integration Testï¼‰
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] @MOCK_TO_API ãƒãƒ¼ã‚¯ãŒå®Œå…¨å‰Šé™¤
- [ ] å‹ã‚¨ãƒ©ãƒ¼ãªã—ï¼ˆschemas/index.tsæº–æ‹ ï¼‰
- [ ] Chart.js ã‚°ãƒ©ãƒ•ã®æ­£å¸¸è¡¨ç¤º
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ©Ÿèƒ½ã®æ­£å¸¸å‹•ä½œ

### æ©Ÿèƒ½çš„å®Œäº†åŸºæº–:
- [ ] ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã®è¦–è¦šçš„ä¸€è‡´ï¼ˆ90%ä»¥ä¸Šï¼‰
- [ ] å…¨ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèª
- [ ] 7ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆã®ç¢ºèª
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡¨ç¤ºã®ç¢ºèª
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆç®¡ç†æ©Ÿèƒ½ã®ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®é©åˆ‡ãªå‡¦ç†ï¼ˆ401, 403, 500ç­‰ï¼‰
- [ ] å¿œç­”æ™‚é–“2ç§’ä»¥å†…
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œç¢ºèª

### å“è³ªä¿è¨¼åŸºæº–:
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯å®Œäº†ï¼ˆæ¨©é™åˆ¶å¾¡ãƒ»ç›£æŸ»ãƒ­ã‚°ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Œäº†
- [ ] æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ï¼ˆèªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼‰ã¨ã®çµ±åˆç¢ºèª
- [ ] æ¬¡æœŸå®Ÿè£…ï¼ˆä¼æ¥­ç®¡ç†ï¼‰ã¸ã®æº–å‚™å®Œäº†ï¼ˆç®¡ç†åŸºç›¤ã®ç¢ºç«‹ï¼‰